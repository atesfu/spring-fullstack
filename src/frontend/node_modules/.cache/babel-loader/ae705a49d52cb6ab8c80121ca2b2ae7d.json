{"ast":null,"code":"import _slicedToArray from\"/Users/aronambesajir/Desktop/Interview_practice/Full-Stack-Project/demo/src/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{getAllStudent,deleteStudent}from\"./Client\";import{responseNotification,notficationType}from\"./Notification\";import{Layout,Menu,Breadcrumb,Table,Empty,Spin,Button,Badge,Tag,Avatar,Popconfirm,Radio}from'antd';import{DesktopOutlined,PieChartOutlined,FileOutlined,TeamOutlined,UserOutlined,LoadingOutlined,PlusOutlined}from'@ant-design/icons';import StudentDrawerForm from\"./StudentDrawerForm\";import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=Layout.Header,Content=Layout.Content,Footer=Layout.Footer,Sider=Layout.Sider;var SubMenu=Menu.SubMenu;var TheAvatar=function TheAvatar(_ref){var name=_ref.name;var trimName=name.trim();if(trimName.length===0){return/*#__PURE__*/_jsx(Avatar,{icon:UserOutlined});}var splitName=trimName.split(\" \");if(splitName.length===1){return/*#__PURE__*/_jsx(Avatar,{children:trimName.toUpperCase().charAt(0)});}// console.log(splitName[splitName.length-1].charAt(0));\nreturn/*#__PURE__*/_jsxs(Avatar,{children:[splitName[0].toUpperCase().charAt(0),splitName[splitName.length-1].toUpperCase().charAt(0)]});};var removeStudent=function removeStudent(studentID,callback){deleteStudent(studentID).then(function(){responseNotification(\"success\",\"Student delete\",\"Student with \".concat(studentID,\" was deleted\"));callback();}).catch(function(err){err.response.json().then(function(res){console.log(res);responseNotification(notficationType.ERROR,\"There was an issue\",\"\".concat(res.message,\" [\").concat(res.status,\"] [\").concat(res.error,\"]\"));});});};var columns=function columns(fetchStudents){return[{title:'',dataIndex:'avatar',key:'avatar',render:function render(text,student){return/*#__PURE__*/_jsx(TheAvatar,{name:student.name});}},{title:'Id',dataIndex:'id',key:'id'},{title:'Name',dataIndex:'name',key:'name'},{title:'Email',dataIndex:'email',key:'email'},{title:'Gender',dataIndex:'gender',key:'gender'},{title:'Action',key:'action',render:function render(text,student){return/*#__PURE__*/_jsxs(Radio.Group,{children:[/*#__PURE__*/_jsx(Popconfirm,{placement:\"topRight\",title:\"Are you sure to delete \".concat(student.name),onConfirm:function onConfirm(){return removeStudent(student.id,fetchStudents);},okText:\"Yes\",cancelText:\"No\",children:/*#__PURE__*/_jsx(Radio.Button,{value:\"small\",children:\"Delete\"})}),/*#__PURE__*/_jsx(Radio.Button,{value:\"small\",children:\"Edit\"})]});}}];};var antIcon=/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:24},spin:true});function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),students=_useState2[0],setStudents=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),collapsed=_useState4[0],setCollapsed=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),fetching=_useState6[0],setFetching=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showDrawer=_useState8[0],setShowDrawer=_useState8[1];var fetchStudents=function fetchStudents(){return getAllStudent().then(function(res){return res.json();}).then(function(data){console.log(data);setStudents(data);}).catch(function(error){error.response.json().then(function(res){console.log(res);responseNotification(notficationType.ERROR,\"There Was an issue\",\"\".concat(res.message,\" [status:\").concat(res.status,\" ] [\").concat(res.error,\"]\"));});}).finally(function(){return setFetching(false);});};useEffect(function(){console.log(\"Component is Mounted\");fetchStudents();},[]);var renderStudents=function renderStudents(){if(fetching){return/*#__PURE__*/_jsx(Spin,{indicator:antIcon});}if(students.length<=0){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setShowDrawer(!showDrawer);},type:\"primary\",shape:\"round\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),size:\"small\",children:\"Add New Student\"}),/*#__PURE__*/_jsx(StudentDrawerForm,{showDrawer:showDrawer,setShowDrawer:setShowDrawer,fetchStudents:fetchStudents}),/*#__PURE__*/_jsx(Empty,{})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StudentDrawerForm,{showDrawer:showDrawer,setShowDrawer:setShowDrawer,fetchStudents:fetchStudents}),/*#__PURE__*/_jsx(Table,{dataSource:students,columns:columns(fetchStudents),bordered:true,title:function title(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tag,{children:\"Number of students\"}),/*#__PURE__*/_jsx(Badge,{count:students.length,className:\"site-badge-count-4\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),size:\"medium\",onClick:function onClick(){return setShowDrawer(!showDrawer);},children:\"Add Student\"})]});},pagination:{pageSize:10},scroll:{y:500},rowKey:function rowKey(student){return student.id;}})]});};return/*#__PURE__*/_jsxs(Layout,{style:{minHeight:'100vh'},children:[/*#__PURE__*/_jsxs(Sider,{collapsible:true,collapsed:collapsed,onCollapse:setCollapsed,children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\"}),/*#__PURE__*/_jsxs(Menu,{theme:\"dark\",defaultSelectedKeys:['1'],mode:\"inline\",children:[/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(PieChartOutlined,{}),children:\"Option 1\"},\"1\"),/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(DesktopOutlined,{}),children:\"Option 2\"},\"2\"),/*#__PURE__*/_jsxs(SubMenu,{icon:/*#__PURE__*/_jsx(UserOutlined,{}),title:\"User\",children:[/*#__PURE__*/_jsx(Menu.Item,{children:\"Tom\"},\"3\"),/*#__PURE__*/_jsx(Menu.Item,{children:\"Bill\"},\"4\"),/*#__PURE__*/_jsx(Menu.Item,{children:\"Alex\"},\"5\")]},\"sub1\"),/*#__PURE__*/_jsxs(SubMenu,{icon:/*#__PURE__*/_jsx(TeamOutlined,{}),title:\"Team\",children:[/*#__PURE__*/_jsx(Menu.Item,{children:\"Team 1\"},\"6\"),/*#__PURE__*/_jsx(Menu.Item,{children:\"Team 2\"},\"8\")]},\"sub2\"),/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(FileOutlined,{}),children:\"Files\"},\"9\")]})]}),/*#__PURE__*/_jsxs(Layout,{className:\"site-layout\",children:[/*#__PURE__*/_jsx(Header,{className:\"site-layout-background\",style:{padding:0}}),/*#__PURE__*/_jsxs(Content,{style:{margin:'0 16px'},children:[/*#__PURE__*/_jsxs(Breadcrumb,{style:{margin:'16px 0'},children:[/*#__PURE__*/_jsx(Breadcrumb.Item,{children:\"User\"}),/*#__PURE__*/_jsx(Breadcrumb.Item,{children:\"Bill\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"site-layout-background\",style:{padding:24,minHeight:360},children:renderStudents()})]}),/*#__PURE__*/_jsx(Footer,{style:{textAlign:'center'},children:\"By Aron\"})]})]});}export default App;","map":{"version":3,"sources":["/Users/aronambesajir/Desktop/Interview_practice/Full-Stack-Project/demo/src/frontend/src/App.js"],"names":["useState","useEffect","getAllStudent","deleteStudent","responseNotification","notficationType","Layout","Menu","Breadcrumb","Table","Empty","Spin","Button","Badge","Tag","Avatar","Popconfirm","Radio","DesktopOutlined","PieChartOutlined","FileOutlined","TeamOutlined","UserOutlined","LoadingOutlined","PlusOutlined","StudentDrawerForm","Header","Content","Footer","Sider","SubMenu","TheAvatar","name","trimName","trim","length","splitName","split","toUpperCase","charAt","removeStudent","studentID","callback","then","catch","err","response","json","res","console","log","ERROR","message","status","error","columns","fetchStudents","title","dataIndex","key","render","text","student","id","antIcon","fontSize","App","students","setStudents","collapsed","setCollapsed","fetching","setFetching","showDrawer","setShowDrawer","data","finally","renderStudents","pageSize","y","minHeight","padding","margin","textAlign"],"mappings":"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","sourcesContent":["import {useState,useEffect} from \"react\";\nimport {getAllStudent,deleteStudent} from \"./Client\";\nimport {responseNotification,notficationType} from \"./Notification\";\nimport {\n    Layout,\n    Menu,\n    Breadcrumb,\n    Table,\n    Empty,\n    Spin,\n    Button, Badge, Tag, Avatar, Popconfirm, Radio\n} from 'antd';\nimport {\n    DesktopOutlined,\n    PieChartOutlined,\n    FileOutlined,\n    TeamOutlined,\n    UserOutlined,\n    LoadingOutlined,\n    PlusOutlined,} from '@ant-design/icons';\nimport StudentDrawerForm from \"./StudentDrawerForm\";\n\nimport './App.css';\n\nconst { Header, Content, Footer, Sider } = Layout;\nconst { SubMenu } = Menu;\n\n\n\n\nconst TheAvatar=({name})=>{\n    let trimName=name.trim();\n    if(trimName.length===0){\n        return<Avatar icon={UserOutlined}/>\n    }\n    const splitName=trimName.split(\" \");\n    if(splitName.length===1){\n        return <Avatar>{trimName.toUpperCase().charAt(0)}</Avatar>\n    }\n   // console.log(splitName[splitName.length-1].charAt(0));\n    return <Avatar>{splitName[0].toUpperCase().charAt(0)}{splitName[splitName.length-1].toUpperCase().charAt(0)}</Avatar>\n}\n\n\n\nconst removeStudent=(studentID,callback)=>{\n    deleteStudent(studentID).then(()=>{\n        responseNotification(\"success\",\"Student delete\",`Student with ${studentID} was deleted`);\n        callback();\n    }).catch(err => {\n        err.response.json().then(res => {\n            console.log(res);\n            responseNotification(\n                notficationType.ERROR,\n                \"There was an issue\",\n                `${res.message} [${res.status}] [${res.error}]`\n            )\n        });\n    })\n}\n\nconst columns =fetchStudents=> [\n    {\n        title: '',\n        dataIndex: 'avatar',\n        key: 'avatar',\n        render:(text,student)=><TheAvatar name={student.name}/>\n    },\n    {\n        title: 'Id',\n        dataIndex: 'id',\n        key: 'id',\n    },\n    {\n        title: 'Name',\n        dataIndex: 'name',\n        key: 'name',\n    },\n    {\n        title: 'Email',\n        dataIndex: 'email',\n        key: 'email',\n    },\n    {\n        title: 'Gender',\n        dataIndex: 'gender',\n        key: 'gender',\n    },\n    {\n        title: 'Action',\n        key: 'action',\n        render:(text,student)=>\n            <Radio.Group>\n                <Popconfirm\n                    placement='topRight'\n                    title={`Are you sure to delete ${student.name}`}\n                    onConfirm={() => removeStudent(student.id, fetchStudents)}\n                    okText='Yes'\n                    cancelText='No'>\n                    <Radio.Button value=\"small\">Delete</Radio.Button>\n                </Popconfirm>\n                <Radio.Button value=\"small\">Edit</Radio.Button>\n            </Radio.Group>\n    }\n];\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nfunction App() {\n    const [students,setStudents]=useState([]);\n    const [collapsed,setCollapsed]=useState(false);\n    const [fetching,setFetching]=useState(true);\n    const [showDrawer, setShowDrawer] = useState(false);\n\n    const fetchStudents=()=>\n        getAllStudent()\n            .then(res => res.json())\n            .then(data=>{\n                console.log(data);\n                setStudents(data);\n            }).catch(error=>{\n                error.response.json().then(res=>{\n                    console.log(res)\n                    responseNotification(\n                        notficationType.ERROR,\n                        \"There Was an issue\",\n                        `${res.message} [status:${res.status} ] [${res.error}]`)\n                })\n        }).finally(()=>setFetching(false));\n\n    useEffect(()=>{\n        console.log(\"Component is Mounted\");\n        fetchStudents();\n    },[]);\n\n\n    const renderStudents=()=>{\n        if(fetching){\n            return <Spin indicator={antIcon} />\n        }\n\n        if(students.length<=0){\n            return <>\n                <Button\n                    onClick={() => setShowDrawer(!showDrawer)}\n                    type=\"primary\" shape=\"round\" icon={<PlusOutlined/>} size=\"small\">\n                    Add New Student\n                </Button>\n                <StudentDrawerForm\n                    showDrawer={showDrawer}\n                    setShowDrawer={setShowDrawer}\n                    fetchStudents={fetchStudents}\n                />\n                <Empty/>\n            </>\n        }\n        return <>\n            <StudentDrawerForm\n                showDrawer={showDrawer}\n                setShowDrawer={setShowDrawer}\n                fetchStudents={fetchStudents}\n            />\n        <Table\n            dataSource={students}\n            columns={columns(fetchStudents)}\n            bordered\n            title={() =>\n                <>\n                    <Tag>Number of students</Tag>\n                    <Badge count={students.length} className=\"site-badge-count-4\"/>\n                    <br/><br/>\n                    <Button type=\"primary\" icon={<PlusOutlined/>} size=\"medium\"\n                            onClick={() => setShowDrawer(!showDrawer)}>\n                        Add Student\n                    </Button>\n                    </>\n                    }\n            pagination={{ pageSize: 10 }}\n            scroll={{ y: 500 }}\n            rowKey={student=>student.id}\n        />\n        </>\n    }\n\n    return (\n        <Layout style={{ minHeight: '100vh' }}>\n            <Sider collapsible collapsed={collapsed} onCollapse={setCollapsed}>\n                <div className=\"logo\" />\n                <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n                    <Menu.Item key=\"1\" icon={<PieChartOutlined />}>\n                        Option 1\n                    </Menu.Item>\n                    <Menu.Item key=\"2\" icon={<DesktopOutlined />}>\n                        Option 2\n                    </Menu.Item>\n                    <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"User\">\n                        <Menu.Item key=\"3\">Tom</Menu.Item>\n                        <Menu.Item key=\"4\">Bill</Menu.Item>\n                        <Menu.Item key=\"5\">Alex</Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"sub2\" icon={<TeamOutlined />} title=\"Team\">\n                        <Menu.Item key=\"6\">Team 1</Menu.Item>\n                        <Menu.Item key=\"8\">Team 2</Menu.Item>\n                    </SubMenu>\n                    <Menu.Item key=\"9\" icon={<FileOutlined />}>\n                        Files\n                    </Menu.Item>\n                </Menu>\n            </Sider>\n            <Layout className=\"site-layout\">\n                <Header className=\"site-layout-background\" style={{ padding: 0 }} />\n                <Content style={{ margin: '0 16px' }}>\n                    <Breadcrumb style={{ margin: '16px 0' }}>\n                        <Breadcrumb.Item>User</Breadcrumb.Item>\n                        <Breadcrumb.Item>Bill</Breadcrumb.Item>\n                    </Breadcrumb>\n                    <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 360 }}>\n                        {renderStudents()}\n                    </div>\n                </Content>\n                <Footer style={{ textAlign: 'center' }}>By Aron</Footer>\n            </Layout>\n        </Layout>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}